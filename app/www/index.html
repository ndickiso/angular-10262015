<!DOCTYPE html>

<html>
	<head>
		<title>Welcome to Angular.js</title>
		<script src="libs/jquery/dist/jquery.js"></script>
		<script src="libs/angular/angular.js"></script>
	</head>

	<body>
		<div ng-app="MyApp">
			<div ng-controller="MyCtrl">
				<table>
					<thead>
						<tr>
							<td>Name</td>
							<td>Color</td>
							<td>Size</td>
							<td>Quantity</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="widget in widgets">
							<td>{{widget.name}}</td>
							<td>{{widget.color}}</td>
							<td>{{widget.size}}</td>
							<td>{{widget.quantity}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<script>

			angular.module("MyApp", [])
				.constant("WidgetsUrl", "/api/widgets")
				.factory("Widgets", function($http, WidgetsUrl) {

					return {
						getAll: function() {
							return $http.get(WidgetsUrl);
						},
						get: function(widgetId) {
							return $http.get(WidgetsUrl +
								"/" + encodeURIComponent(widgetId));
						},
						create: function() {
							return $http.post(WidgetsUrl, widget);
						},
						update: function(widget) {
							return $http.put(WidgetsUrl +
								"/" + encodeURIComponent(widget.id), widget);
						},
						delete: function(widgetId) {
							return $http.delete(WidgetsUrl +
								"/" + encodeURIComponent(widgetId));
						}
					}

				})
				.controller("MyCtrl", function($q, $timeout) {


				});

		</script>
	</body>
</html>
